<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Upload áº¢nh lÃªn Cloudinary</title>
<style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .preview { margin-top: 15px; }
    img { max-width: 300px; border: 1px solid #ccc; padding: 5px; border-radius: 8px; }
    .status { margin-top: 10px; font-weight: bold; color: green; }
</style>
</head>
<body>

<h2>ğŸ“¤ Upload áº£nh</h2>
<input type="file" id="fileInput" accept="image/*">
<button id="uploadBtn">Táº£i lÃªn</button>

<div class="status" id="status"></div>
<div class="preview" id="preview"></div>

<script>
document.getElementById("uploadBtn").addEventListener("click", function() {
    let file = document.getElementById("fileInput").files[0];
    if (!file) {
        alert("Vui lÃ²ng chá»n áº£nh trÆ°á»›c khi táº£i lÃªn!");
        return;
    }

    let formData = new FormData();
    formData.append("file", file);

    document.getElementById("status").textContent = "â³ Äang táº£i lÃªn...";

    fetch("upload_image.php", { // âš ï¸ Äáº£m báº£o file PHP nÃ y náº±m cÃ¹ng thÆ° má»¥c hoáº·c sá»­a Ä‘Æ°á»ng dáº«n
        method: "POST",
        body: formData
    })
    .then(res => res.json())
    .then(data => {
        if (data.secure_url) {
            document.getElementById("status").textContent = "âœ… Táº£i lÃªn thÃ nh cÃ´ng!";
            document.getElementById("preview").innerHTML = `
                <p>Link áº£nh: <a href="${data.secure_url}" target="_blank">${data.secure_url}</a></p>
                <img src="${data.secure_url}" alt="Uploaded Image">
            `;
        } else {
            document.getElementById("status").textContent = "âŒ Lá»—i: " + (data.error?.message || JSON.stringify(data.error));
        }
    })
    .catch(err => {
        document.getElementById("status").textContent = "âŒ Lá»—i: " + err;
    });
});
</script>

</body>
</html>
